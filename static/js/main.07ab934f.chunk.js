(this["webpackJsonpdr-corona-bump"]=this["webpackJsonpdr-corona-bump"]||[]).push([[0],{18:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(7),a=n.n(o),i=(n(18),n(4)),s=n.p+"static/media/dr-corona-title.5a244b4b.svg",l=n.p+"static/media/corona-trademark.2d798160.svg",d=n(0),u=function(){return Object(d.jsxs)("div",{className:"container",id:"header-row",children:[Object(d.jsx)("img",{src:l,alt:"dr-corona-trademark",id:"dr-corona-trademark"}),Object(d.jsx)("div",{id:"header-col",children:Object(d.jsx)("img",{src:s,alt:"dr-corona-title",id:"dr-corona-title"})})]})},j=n(3),b=n(5),v=Object(b.b)({name:"counter",initialState:{value:0},reducers:{incrementCount:function(e){e.value+=1},resetCount:function(e){e.value=0}}}),m=v.actions,f=m.incrementCount,O=m.resetCount,g=function(e){return e.counter.value},h=v.reducer,p=Object(b.b)({name:"lives",initialState:{lives:3},reducers:{incrementLives:function(e){e.lives+=1},decrementLives:function(e){e.lives-=1},resetLives:function(e){e.lives=3}}}),x=p.actions,S=(x.incrementLives,x.decrementLives),w=x.resetLives,k=function(e){return e.lives.lives},C=p.reducer,y=function(e){return Math.pow(e,2)},I=function(e){var t=Object(c.useState)(20),n=Object(i.a)(t,2),r=n[0],o=n[1],a=Object(j.b)();return Object(c.useEffect)((function(){var e=setInterval((function(){r>0&&o(r-1),0===r&&clearInterval(e)}),1e3);return function(){clearInterval(e)}}),[r]),Object(c.useEffect)((function(){if(0===r){try{if(localStorage.getItem("topScore")){var t=parseInt(localStorage.getItem("topScore"));e.playCallback("gameOver",t,e.count)}else e.playCallback("gameOver",0,e.count)}catch(n){console.log("Get local storage item topScore error")}!function(e){var t=y(e);localStorage.getItem("topScore")?parseInt(t)>parseInt(localStorage.getItem("topScore"))&&localStorage.setItem("topScore",t):localStorage.setItem("topScore",t)}(e.count),a(O())}}),[r,e,a]),Object(d.jsx)("span",{children:r})},N=function(e){var t=Object(j.c)(g),n=Object(j.c)(k);return Object(d.jsxs)("div",{className:"container",id:"controls-div",children:[Object(d.jsxs)("div",{children:["TIME: ",Object(d.jsx)(I,{count:t,playCallback:e.playCallback})]}),Object(d.jsx)("div",{children:"  POINTS: ".concat(y(t))}),Object(d.jsx)("div",{children:"  LIVES: ".concat(n)})]})},E=n.p+"static/media/dr-corona-2.e337685b.svg",L=function(e){var t=Object(j.b)(),n=Object(j.c)(k),c=Object(j.c)(g);return Object(d.jsx)("div",{className:"tile-divs",children:Object(d.jsx)("img",{draggable:"false",src:E,alt:"dr-corona-icon",className:"game-icon",onClick:function(){n>0&&c>0?t(S()):(t(O()),t(w()))}})})},T=n.p+"static/media/virus.502d0684.svg",W=function(e){var t=Object(j.b)();return Object(d.jsx)("div",{className:"tile-divs",children:Object(d.jsx)("img",{draggable:"false",src:T,alt:"Virus Icon",className:"game-icon",onClick:function(){t(f()),e.clickCallback()}})})},A=function(e){var t,n=Array.from({length:e},(function(e){return""}));return n[(t=e,Math.floor(Math.random()*t))]="target",n},F=function(){var e=Object(c.useState)(0),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(""),a=Object(i.a)(o,2),s=a[0],l=a[1];return Object(c.useEffect)((function(){var e;l((e=function(){r(n+1)},A(20).map((function(t,n){return"target"===t?Object(d.jsx)(W,{clickCallback:e},n):Object(d.jsx)(L,{},n)}))))}),[n]),Object(d.jsx)("div",{className:"container",id:"game-board-div",children:s})},G=function(){return Object(d.jsxs)("span",{className:"container",id:"topscore",children:["TOP SCORE: ",localStorage.getItem("topScore")?localStorage.getItem("topScore"):"0"]})},M=n(12),P=n(13),U=function(){var e=Object(c.useState)(null),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){var e=function(e){e.preventDefault(),r(e)};return window.addEventListener("beforeinstallprompt",(function(t){return e(t)})),function(t){window.removeEventListener("beforeinstallprompt",(function(t){return e(t)}))}}),[]),Object(d.jsxs)("div",{id:"install-button-constainer",className:n?"visible":"",onClick:function(){return n?n.prompt():void 0},children:[Object(d.jsx)(M.a,{icon:P.a})," Install App"]})},Y=function(e){return Object(d.jsx)("div",{id:"gameover-div",children:"start"===e.playGame?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Start Game"}),Object(d.jsx)("div",{className:"game-over-modal-text",children:"Welcome to Dr Corona the game! The doctor needs your help to fight the coronavirus. You have 20 seconds to eradicate as many as you can!"}),Object(d.jsx)("button",{onClick:function(){return e.playCallback(null)},children:"Let's Go!"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h1",{children:"Game Over!"}),function(){var t=e.newScore?Math.pow(e.newScore,2):0;return t>e.oldScore?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"game-over-modal-text",children:"Congratulations! You've set a new record!"}),Object(d.jsxs)("div",{className:"game-over-modal-scores",children:["Top score: ",e.oldScore," ","\n"," New Top Score: ",t]})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"game-over-modal-text",children:"Common... You can do better!"}),Object(d.jsxs)("div",{className:"game-over-modal-scores",children:["Top score: ",e.oldScore," ","\n","Score: ",t]})]})}(),Object(d.jsx)("button",{onClick:function(){return e.playCallback(null)},children:"Try Again!"})]})})},B=function(){var e=Object(c.useState)("start"),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(0),a=Object(i.a)(o,2),s=a[0],l=a[1],j=Object(c.useState)(0),b=Object(i.a)(j,2),v=b[0],m=b[1],f=function(e,t,n){r(e),l(t),m(n)};return Object(d.jsx)("div",{className:"App",children:n?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u,{}),Object(d.jsx)(U,{}),Object(d.jsx)(Y,{playGame:n,oldScore:s,newScore:v,playCallback:f})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(u,{}),Object(d.jsx)(N,{playCallback:f}),Object(d.jsx)(F,{}),Object(d.jsx)(G,{}),Object(d.jsx)(U,{})]})})},D=Object(b.a)({reducer:{counter:h,lives:C}}),J=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(j.a,{store:D,children:Object(d.jsx)(B,{})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/dr-corona-bump",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/dr-corona-bump","/service-worker.js");J?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var c=n.headers.get("content-type");404===n.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):R(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):R(t,e)}))}}()}},[[28,1,2]]]);
//# sourceMappingURL=main.07ab934f.chunk.js.map